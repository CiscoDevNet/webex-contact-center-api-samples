{
  #AGGREGATES/FORMULAS: Usage of filters, aggregates, pagination and custom fields
  task(
    timeComparator: endedTime #When filtering tasks, use the end time of the task
    filter: {
      #Filter the type of Task
      and: [
        { channelType: { equals: telephony } } #Telephony calls only
        { status: { equals: "ended" } } #Final Disposition
        { direction: { equals: "inbound" } } #Inbound call only
        { isActive: { equals: false } } #Resolved call only
      ]
    }
    aggregation: {
      #Define custom formulas and Aggregations - NOTE that the FIELDS you insert below has an effect on this.
      aggr: [
        { field: totalDuration, type: sum, name: "Total Duration" }
        {
          field: connectedDuration
          type: sum
          name: "Average Connected Duration"
        }
      ]
    }
    pagination: { cursor: "0" } #Show first page
  ) {
    tasks {
      #Task Metadata - Note that since these are aggregates, you need to use the GROUPBY Fields HERE
      origin
      destination
      lastWrapupCodeName #Why the customer called
      #Aggregation Results - Print Total and Average Durations
      aggregation {
        name
        value
      }
    }
    #Pagination Information
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}
